//Bruteforce Approach

class Solution {
    static void reArrange(int[] arr, int n) {
        int[] even = new int[n / 2]; // To store even elements
        int[] odd = new int[n / 2];  // To store odd elements

        int evenIdx = 0, oddIdx = 0;

        // Step 1: Separate even and odd numbers
        for (int i = 0; i < n; i++) {
            if ((arr[i] % 2) == 0) {
                even[evenIdx++] = arr[i];
            } else {
                odd[oddIdx++] = arr[i];
            }
        }

        // Reset indices to reuse them for merging
        evenIdx = 0;
        oddIdx = 0;

        // Step 2: Rebuild the array with alternating even-odd positions
        for (int i = 0; i < n; i++) {
            arr[i] = (i % 2 == 0) ? even[evenIdx++] : odd[oddIdx++];
        }
    }
}



// Better Approach

class Solution {
    void reArrange(int[] arr, int n) {
        int evenIdx = 0; // Start from index 0 for even positions
        int oddIdx = 1;  // Start from index 1 for odd positions

        while (evenIdx < n && oddIdx < n) {
            // Skip evenIdx if it's already holding an even number
            while (evenIdx < n && (arr[evenIdx] % 2) == 0) {
                evenIdx += 2;
            }

            // Skip oddIdx if it's already holding an odd number
            while (oddIdx < n && (arr[oddIdx] % 2) == 1) {
                oddIdx += 2;
            }

            // If both indices are within bounds, swap mismatched values
            if (evenIdx < n && oddIdx < n) {
                swap(arr, evenIdx, oddIdx);
            }
        }
    }

    private void swap(int[] arr, int i, int j) {
        int temp = arr[i];
        arr[i] = arr[j];
        arr[j] = temp;
    }
}



// Optimal Approach (Time Optimised) (Order Of Appearence is Maintained)

class Solution {
    static void reArrange(int[] arr, int n) {
        int[] rearrangedArray = new int[n];
        int evenIdx = 0, oddIdx = 1;

        for (int i = 0; i < n; i++) {
            if (arr[i] % 2 == 0) {
                rearrangedArray[evenIdx] = arr[i]; // Place even numbers at even indices
                evenIdx += 2;
            } else {
                rearrangedArray[oddIdx] = arr[i]; // Place odd numbers at odd indices
                oddIdx += 2;
            }
        }

        for (int i = 0; i < n; i++) {
            arr[i] = rearrangedArray[i];
        }
    }
}

//Bruteforce Approach

public class Solution {
    //The **upper bound** of `x` is the **first index** at which the element is **strictly greater than** `x`.
    public static int upperBound(int[] arr, int x, int n) {
        // Traverse the array linearly to find the first element > x
        for (int i = 0; i < n; i++) {
            if (arr[i] > x) {
                return i; // Found the upper bound at index i
            }
        }

        // If all elements are <= x, upper bound is at the end (n)
        return n;
    }
}



//Optimal Approach

public class Solution {
    public static int upperBound(int[] arr, int x, int n) {
        /*
         Objective:
         ----------
         Find the smallest index 'idx' such that:
             arr[idx] > x
        
         If no such index exists (i.e., all elements are
         less than or equal to x), return 'n'
         (the size of the array).
        
         Example:
         --------
         arr = [1, 2, 2, 3, 3, 5]
         x   = 2
        
         The first index where arr[idx] > 2 is:
         idx = 3  (arr[3] = 3)
        
         So, upperBound(arr, n, 2) returns 3.
        */

        int low = 0, high = n - 1;

        /*
         Initialize upper bound as 'n'.
         This acts as the default answer when
         no element is strictly greater than x.
        */
        int ub = n;

        while (low <= high) {
            int mid = low + (high - low) / 2;

            /*
             If arr[mid] is strictly greater than x,
             mid is a valid upper bound candidate.
             Store it and continue searching in the left half
             to find the smallest such index.
            */
            if (arr[mid] > x) {
                ub = mid;
                high = mid - 1;
            } else {
                /*
                If arr[mid] is less than or equal to x,
                the upper bound must lie in the right half.
                */
                low = mid + 1;
            }
        }

        /*
         ub contains:
         - The index of the first element > x, OR
         - n if no such element exists.
        */
        return ub;
    }
}
